{"version":3,"sources":["webpack:///src/components/pull-refresh/iconFont.vue","webpack:///./src/components/pull-refresh/iconFont.vue?410c","webpack:///./src/components/pull-refresh/iconFont.vue","webpack:///src/components/pull-refresh/index.vue","webpack:///./src/components/pull-refresh/index.vue?307d","webpack:///./src/components/pull-refresh/index.vue","webpack:///src/components/pull-refresh/circular.vue","webpack:///./src/components/pull-refresh/circular.vue?0f13","webpack:///./src/components/pull-refresh/circular.vue","webpack:///src/pages/pull-refresh.vue","webpack:///./src/pages/pull-refresh.vue?00c5","webpack:///./src/pages/pull-refresh.vue"],"names":["iconFont","name","props","String","pull_refresh_iconFont","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","aria-hidden","on","click","$event","$emit","xlink:href","staticRenderFns","components_pull_refresh_iconFont","__webpack_require__","normalizeComponent","ssrContext","pull_status_map","0","1","3","4","pull_refresh","document","addEventListener","data","PullIcon","pullStatus","startFlag","_isScroller","pageY","type","Number","default","timer","list","Array","required","computed","pullText","components","IconFont","Loading","loading","created","touch","mounted","_this","$nextTick","$pullRefreshContentEl","$refs","pullRefreshContent","$pullContentEl","pullContent","prevent","watch","handler","curVal","oldVal","_this2","setTimeout","forceUpdate","refreshDelay","deep","methods","touchStart","e","touches","pageX","touchMove","_this3","style","Math","abs","distY","shrinkPercent","window","innerHeight","touchEnd","_this4","offsetHeight","call","recall","_this5","me","resetPaint","el","startY","evt","x","y","alert","message","_ss","ontouchmove","ev","_point","_top","scrollTop","_bottomFaVal","scrollHeight","clientY","preventDefault","stopPropagation","components_pull_refresh","_t","ref","directives","rawName","value","expression","class","rotate90","_v","title","_s","touchstart","touchmove","touchend","src_components_pull_refresh","pull_refresh_normalizeComponent","circular","width","percent","bgColor","svgStyle","height","opacity","transform","path","init","val","run","drawArcByRadiusDeg","startX","r","deg","clockwise","cw","cos","PI","sin","add","setAttribute","pull_refresh_circular","version","xmlns","id","d","fill","fill-opacity","pages_pull_refresh","PullRefresh","Circular","circular_normalizeComponent","flag","isPhone","test","navigator","userAgent","console","log","pullingDown","i","concat","selectortype_template_index_0_src_pages_pull_refresh","_l","item","index","key","pages_pull_refresh_Component","pages_pull_refresh_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.5ce0477ca1a975a30346.js","sourcesContent":["<template>\r\n  <svg class=\"icon\" aria-hidden=\"true\" @click=\"$emit('click')\">\r\n    <use :xlink:href=\"'#' + name\"></use>\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"icon\",\r\n  props: {\r\n    name: String,\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.icon {\r\n  width: 25px;\r\n  height: 25px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pull-refresh/iconFont.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.$emit('click')}}},[_c('use',{attrs:{\"xlink:href\":'#' + _vm.name}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8dc2fc98\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pull-refresh/iconFont.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8dc2fc98\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./iconFont.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./iconFont.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./iconFont.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8dc2fc98\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./iconFont.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8dc2fc98\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pull-refresh/iconFont.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"pull-refresh-container\">\r\n    <slot name=\"pull\">\r\n      <div class=\"pull-refresh-wrap\" ref=\"pullRefreshContent\">\r\n        <div class=\"pull-icon-box\">\r\n          <IconFont\r\n            class=\"rotate0\"\r\n            :class=\"{ rotate90: pullStatus === 1 }\"\r\n            v-show=\"pullStatus !== 3 && pullStatus !== 4\"\r\n            :name=\"PullIcon\"\r\n          ></IconFont>\r\n          <Loading class='loading' title=\"\" v-show=\"pullStatus === 3\"></Loading>\r\n        </div>\r\n        <IconFont\r\n          class=\"finish-icon\"\r\n          v-show=\"pullStatus === 4\"\r\n          name=\"iconwancheng\"\r\n        ></IconFont>\r\n        <span class=\"pull-status-text\">{{ pullText }}</span>\r\n      </div>\r\n    </slot>\r\n    <div\r\n      class=\"pull-content\"\r\n      @touchstart=\"touchStart\"\r\n      @touchmove=\"touchMove\"\r\n      @touchend=\"touchEnd\"\r\n      ref=\"pullContent\"\r\n    >\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\nimport IconFont from \"./iconFont.vue\";\r\nimport Loading from \"../loading/loading\";\r\n\r\nconst pull_status_map = {\r\n  0: \"下拉刷新\",\r\n  1: \"立即释放刷新\",\r\n  3: \"刷新中...\",\r\n  4: \"刷新成功\"\r\n};\r\n\r\nconst on = (function() {\r\n  if (document.addEventListener) {\r\n    return function(element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false);\r\n      }\r\n    };\r\n  } else {\r\n    return function(element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.attachEvent(\"on\" + event, handler);\r\n      }\r\n    };\r\n  }\r\n})();\r\n\r\nexport default {\r\n  data: () => {\r\n    return {\r\n      PullIcon: \"iconiconxlsx\",\r\n      pullStatus: 0,\r\n      startFlag: false,\r\n      _isScroller: false\r\n    };\r\n  },\r\n  props: {\r\n    pageY: {\r\n      type: [String, Number],\r\n      default: 80\r\n    },\r\n    timer: {\r\n      type: [String, Number],\r\n      default: 1000\r\n    },\r\n    list: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    pullText() {\r\n      let text = pull_status_map[this.pullStatus];\r\n      return text || \"下拉刷新\";\r\n    }\r\n  },\r\n  components: {\r\n    IconFont,\r\n    Loading\r\n  },\r\n  created() {\r\n    this.touch = {};\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.$pullRefreshContentEl = this.$refs.pullRefreshContent;\r\n      this.$pullContentEl = this.$refs.pullContent;\r\n      this.prevent(this.$pullContentEl);\r\n    });\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler(curVal, oldVal) {\r\n        setTimeout(() => {\r\n          this.forceUpdate(true);\r\n        }, this.refreshDelay);\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    touchStart(e) {\r\n      if (this.startFlag == true) {\r\n        return;\r\n      }\r\n\r\n      const touch = e.touches[0];\r\n      this.touch.pageX = touch.pageX;\r\n      this.touch.pageY = touch.pageY;\r\n    },\r\n    touchMove(e) {\r\n      this.startFlag = true;\r\n      const touch = e.touches[0];\r\n      if (touch.pageY - this.touch.pageY >= 0 === false) {\r\n        return;\r\n      }\r\n      this.$pullRefreshContentEl.style[\"transition-property\"] = \"null\";\r\n      this.$pullContentEl.style[\"transition-property\"] = \"null\";\r\n\r\n      let distX = Math.abs(touch.pageX - this.touch.pageX);\r\n      let distY = Math.abs(touch.pageY - this.touch.pageY);\r\n\r\n      if (this.$pullRefreshContentEl && this.$pullContentEl) {\r\n        if (this.pageY <= distY) {\r\n          let shrinkPercent = distY / window.innerHeight;\r\n\r\n          distY = this.pageY + this.pageY * shrinkPercent;\r\n          this.touch.distY = distY;\r\n          this.$nextTick(() => {\r\n            if (this.pullStatus != 1) {\r\n              this.pullStatus = 1;\r\n            }\r\n          });\r\n        } else {\r\n          this.pullStatus = 0;\r\n        }\r\n\r\n        this.$pullRefreshContentEl.style[\r\n          \"transform\"\r\n        ] = `translate3d(0,${distY}px,0)`;\r\n        this.$pullContentEl.style[\"transform\"] = `translate3d(0,${distY}px,0)`;\r\n        this.$pullRefreshContentEl.style[\"transition-duration\"] = 0;\r\n        this.$pullContentEl.style[\"transition-duration\"] = 0;\r\n      }\r\n    },\r\n\r\n    touchEnd(e) {\r\n      this.$nextTick(() => {\r\n        if (this.pullStatus === 1) {\r\n          this.pullStatus = 3;\r\n\r\n          function resetPaint() {\r\n            let distY = this.$pullRefreshContentEl.offsetHeight;\r\n            this.$pullRefreshContentEl.style[\"transition-duration\"] = \"0.2s\";\r\n            this.$pullRefreshContentEl.style[\"transition-property\"] = \"all\";\r\n            this.$pullRefreshContentEl.style[\r\n              \"transform\"\r\n            ] = `translate3d(0,${distY}px,0)`;\r\n            this.$pullContentEl.style[\"transition-duration\"] = \"0.3s\";\r\n            this.$pullContentEl.style[\"transition-property\"] = \"all\";\r\n            this.$pullContentEl.style[\r\n              \"transform\"\r\n            ] = `translate3d(0,${distY}px,0)`;\r\n          }\r\n          resetPaint.call(this);\r\n          this.$emit(\"pullingDown\");\r\n        } else {\r\n          this.recall();\r\n        }\r\n      });\r\n    },\r\n    forceUpdate() {\r\n      let me = this;\r\n      this.$nextTick(() => {\r\n        if (this.pullStatus === 3) {\r\n          setTimeout(() => {\r\n            this.pullStatus = 4;\r\n            this.recall();\r\n          }, 500);\r\n        }\r\n      });\r\n    },\r\n    recall() {\r\n      this.startFlag = false;\r\n      this.touch = {};\r\n      let me = this;\r\n\r\n      if (this.pullStatus === 4) {\r\n        setTimeout(() => {\r\n          resetPaint.call(me);\r\n        }, 800);\r\n      } else {\r\n        resetPaint.call(me);\r\n      }\r\n\r\n      function resetPaint() {\r\n        this.$pullRefreshContentEl.style[\"transition-duration\"] = \"0.3s\";\r\n        this.$pullRefreshContentEl.style[\"transition-property\"] = \"all\";\r\n        this.$pullRefreshContentEl.style[\"transform\"] = `translate3d(0,0,0)`;\r\n        this.$pullContentEl.style[\"transition-duration\"] = \"0.3s\";\r\n        this.$pullContentEl.style[\"transition-property\"] = \"all\";\r\n        this.$pullContentEl.style[\"transform\"] = `translate3d(0,0,0)`;\r\n      }\r\n    },\r\n    prevent(el) {\r\n      var startX = 0,\r\n        startY = 0;\r\n      //touchstart事件\r\n      function touchSatrtFunc(evt) {\r\n        try {\r\n          //evt.preventDefault(); //阻止触摸时浏览器的缩放、滚动条滚动等\r\n\r\n          var touch = evt.touches[0]; //获取第一个触点\r\n          var x = Number(touch.pageX); //页面触点X坐标\r\n          var y = Number(touch.pageY); //页面触点Y坐标\r\n          //记录触点初始位置\r\n          startX = x;\r\n          startY = y;\r\n        } catch (e) {\r\n          alert(\"touchSatrtFunc：\" + e.message);\r\n        }\r\n      }\r\n      document.addEventListener(\"touchstart\", touchSatrtFunc, false);\r\n\r\n      var _ss = el;\r\n      _ss.ontouchmove = function(ev) {\r\n        var _point = ev.touches[0],\r\n          _top = _ss.scrollTop;\r\n        // 什么时候到底部\r\n        var _bottomFaVal = _ss.scrollHeight - _ss.offsetHeight;\r\n        // 到达顶端\r\n        if (_top === 0) {\r\n          // 阻止向下滑动\r\n          if (_point.clientY > startY) {\r\n            ev.preventDefault();\r\n          } else {\r\n            // 阻止冒泡\r\n            // 正常执行\r\n            ev.stopPropagation();\r\n          }\r\n        } else if (_top === _bottomFaVal) {\r\n          // 到达底部\r\n          // 阻止向上滑动\r\n          if (_point.clientY < startY) {\r\n            ev.preventDefault();\r\n          } else {\r\n            // 阻止冒泡\r\n            // 正常执行\r\n            ev.stopPropagation();\r\n          }\r\n        } else if (_top > 0 && _top < _bottomFaVal) {\r\n          ev.stopPropagation();\r\n        } else {\r\n          ev.preventDefault();\r\n        }\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n.pull-refresh-container {\r\n  background: grey;\r\n  position: relative;\r\n  clear: both;\r\n  overflow-y: scroll;\r\n\r\n  .pull-refresh-wrap {\r\n    position: absolute;\r\n    top: -50px;\r\n    display: flex;\r\n    height: 50px;\r\n    align-items: center;\r\n    width: 100%;\r\n    background: grey;\r\n\r\n    .pull-icon-box {\r\n      display: inline-block;\r\n      // width: 30px;\r\n      // height: 30px;\r\n      // margin-left: 50px;\r\n      // margin-right: 60px;\r\n      // position: relative;\r\n      position absolute\r\n      left 50px\r\n      top 50%;\r\n      transform translateY(-50%)\r\n\r\n      .rotate0 {\r\n        transition: all 0.2s;\r\n      }\r\n\r\n      .rotate90 {\r\n        transform: rotate(180deg);\r\n      }\r\n      .loading{\r\n             width: 24px;\r\n            height: 24px;\r\n      }\r\n    }\r\n\r\n    .finish-icon {\r\n      width: 24px;\r\n      height: 24px;\r\n      position: relative;\r\n      left: 33%;\r\n    }\r\n\r\n    .pull-status-text {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      color rgba(255,255,255,0.6)\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n\r\n  .pull-content {\r\n    background: #FFF;\r\n    padding: 0;\r\n    border: 1px solid #ededed;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pull-refresh/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pull-refresh-container\"},[_vm._t(\"pull\",[_c('div',{ref:\"pullRefreshContent\",staticClass:\"pull-refresh-wrap\"},[_c('div',{staticClass:\"pull-icon-box\"},[_c('IconFont',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pullStatus !== 3 && _vm.pullStatus !== 4),expression:\"pullStatus !== 3 && pullStatus !== 4\"}],staticClass:\"rotate0\",class:{ rotate90: _vm.pullStatus === 1 },attrs:{\"name\":_vm.PullIcon}}),_vm._v(\" \"),_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pullStatus === 3),expression:\"pullStatus === 3\"}],staticClass:\"loading\",attrs:{\"title\":\"\"}})],1),_vm._v(\" \"),_c('IconFont',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pullStatus === 4),expression:\"pullStatus === 4\"}],staticClass:\"finish-icon\",attrs:{\"name\":\"iconwancheng\"}}),_vm._v(\" \"),_c('span',{staticClass:\"pull-status-text\"},[_vm._v(_vm._s(_vm.pullText))])],1)]),_vm._v(\" \"),_c('div',{ref:\"pullContent\",staticClass:\"pull-content\",on:{\"touchstart\":_vm.touchStart,\"touchmove\":_vm.touchMove,\"touchend\":_vm.touchEnd}},[_vm._t(\"default\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d118cb7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pull-refresh/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d118cb7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d118cb7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d118cb7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pull-refresh/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" :style=\"svgStyle\">\r\n    <path id=\"path1\" ref='path' d=\"\"  :fill=\"bgColor\" fill-opacity=\"1\" />\r\n    <!-- stroke=\"#000\" -->\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    width: {\r\n      type: [String, Number],\r\n      default: `100px`\r\n    },\r\n    percent: {\r\n      type: [String, Number],\r\n      default: 20\r\n    },\r\n    bgColor: {\r\n      type: [String],\r\n      default: \"#458fd2\"\r\n    }\r\n  },\r\n  computed:{\r\n    svgStyle(){\r\n      let style = {\r\n        width:this.width,\r\n        height:this.width,\r\n        // backgroundColor:this.bgColor,\r\n        opacity:this.percent / 100,\r\n        transform:`rotaote(-90deg)`\r\n      }\r\n      return style\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n          this.$nextTick(() => {\r\n             this.path = this.$refs.path\r\n              this.init(this.percent);  \r\n          \r\n          })\r\n\r\n  },\r\n  watch:{\r\n    percent(val){\r\n       this.init(val)\r\n    },\r\n    width(val){\r\n      this.init(this.percent)\r\n    } \r\n  },\r\n  methods: {\r\n    init(val) {\r\n      this.$nextTick(() => {\r\n        this.run(this.percent)\r\n      });\r\n    },\r\n    drawArcByRadiusDeg(startX, startY, r, deg, clockwise) {\r\n        var cw = typeof clockwise !== 'undefined' ? clockwise : 1;\r\n        var x = startX - r + r*Math.cos(deg*Math.PI/180);\r\n        var y = startY + (1===cw ? 1 : -1)*r*Math.sin(deg*Math.PI/180);\r\n        var bigOrSmall = deg > 180 ? 1 : 0;\r\n        var line = \" L\" + (startX - r) + \" \" + startY + \" L\"+startX + \" \" + startY + \"Z\";\r\n        return \"M \" + startX +\" \"+ startY + \" A \"+ r +\" \" + r + \" 0 \" + bigOrSmall + \" \" +cw+ \" \" + x + \" \" + y + line;\r\n    },\r\n    run(deg){\r\n        deg =  this.percent/100*360\r\n         if(!this.path){return}\r\n         var x = 40, y = 25, r = 15, add = 0===deg ? true : false;\r\n         this.path.setAttribute(\"d\", this.drawArcByRadiusDeg(x, y, r, add ? deg++ : deg--, 1)) ;\r\n\r\n    }\r\n   \r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pull-refresh/circular.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{style:(_vm.svgStyle),attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{ref:\"path\",attrs:{\"id\":\"path1\",\"d\":\"\",\"fill\":_vm.bgColor,\"fill-opacity\":\"1\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b86370f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pull-refresh/circular.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b86370f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./circular.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./circular.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./circular.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b86370f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./circular.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b86370f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pull-refresh/circular.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <PullRefresh @pullingDown=\"pullingDown\" :list=\"list\">\r\n      <ul class=\"list\">\r\n        <li v-for=\"(item, index) in list\" :key=\"index\">{{ index }}</li>\r\n      </ul>\r\n    </PullRefresh>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport PullRefresh from \"@/components/pull-refresh/index\";\r\n\r\nimport Circular from '@/components/pull-refresh/circular'\r\n\r\n\r\nexport default {\r\n  components: {\r\n    PullRefresh,\r\n    Circular\r\n  },\r\n  data() {\r\n    return {\r\n      flag: false,\r\n      list: [\r\n        1,\r\n        2,\r\n        23,\r\n        1,\r\n        2,\r\n        23,\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this.isPhone();\r\n  },\r\n  methods:{\r\n    isPhone(){\r\n      if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {\r\n          console.log('iPhone')\r\n      } else {\r\n               console.log('pc')\r\n      }\r\n    },\r\n    pullingDown(i) {\r\n      let list = [13, 13,13, 13,13, 13,13, 13,13, 13,];\r\n      setTimeout(() => {\r\n        this.list = this.list.concat(list);\r\n      }, 1000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n.list {\r\n  display: block;\r\n\r\n  li {\r\n    height: 40px;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pull-refresh.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('PullRefresh',{attrs:{\"list\":_vm.list},on:{\"pullingDown\":_vm.pullingDown}},[_c('ul',{staticClass:\"list\"},_vm._l((_vm.list),function(item,index){return _c('li',{key:index},[_vm._v(_vm._s(index))])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4381f38c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/pull-refresh.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4381f38c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pull-refresh.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pull-refresh.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pull-refresh.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4381f38c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pull-refresh.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4381f38c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pull-refresh.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}