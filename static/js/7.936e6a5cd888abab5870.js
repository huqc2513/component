webpackJsonp([7],{CV8I:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={name:"icon",props:{name:String}},i={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(n){t.$emit("click")}}},[e("use",{attrs:{"xlink:href":"#"+t.name}})])},staticRenderFns:[]};var l=e("VU/8")(s,i,!1,function(t){e("OT2n")},"data-v-8dc2fc98",null).exports,a=e("qqiS"),r={0:"下拉刷新",1:"立即释放刷新",3:"刷新中...",4:"刷新成功"},o={data:function(){return{PullIcon:"iconiconxlsx",pullStatus:0,startFlag:!1}},props:{pageY:{type:[String,Number],default:80},timer:{type:[String,Number],default:1e3},list:{type:Array,required:!0}},computed:{pullText:function(){return r[this.pullStatus]||"下拉刷新"}},components:{IconFont:l,Loading:a.a},created:function(){this.touch={}},mounted:function(){var t=this;this.$nextTick(function(){t.$pullRefreshContentEl=t.$refs.pullRefreshContent,t.$pullContentEl=t.$refs.pullContent})},watch:{list:{handler:function(t,n){var e=this;setTimeout(function(){e.forceUpdate(!0)},this.refreshDelay)},deep:!0}},methods:{touchStart:function(t){if(1!=this.startFlag){var n=t.touches[0];this.touch.pageX=n.pageX,this.touch.pageY=n.pageY}},touchMove:function(t){var n=this;this.startFlag=!0;var e=t.touches[0];if(e.pageY-this.touch.pageY>=0!=!1){this.$pullRefreshContentEl.style["transition-property"]="null",this.$pullContentEl.style["transition-property"]="null";Math.abs(e.pageX-this.touch.pageX);var s=Math.abs(e.pageY-this.touch.pageY);if(this.$pullRefreshContentEl&&this.$pullContentEl){if(this.pageY<=s){var i=s/window.innerHeight;s=this.pageY+this.pageY*i,this.touch.distY=s,this.$nextTick(function(){1!=n.pullStatus&&(n.pullStatus=1)})}else this.pullStatus=0;this.$pullRefreshContentEl.style.transform="translate3d(0,"+s+"px,0)",this.$pullContentEl.style.transform="translate3d(0,"+s+"px,0)",this.$pullRefreshContentEl.style["transition-duration"]=0,this.$pullContentEl.style["transition-duration"]=0}}},touchEnd:function(t){var n=this;this.$nextTick(function(){if(1===n.pullStatus){n.pullStatus=3,function(){var t=this.$pullRefreshContentEl.offsetHeight;this.$pullRefreshContentEl.style["transition-duration"]="0.2s",this.$pullRefreshContentEl.style["transition-property"]="all",this.$pullRefreshContentEl.style.transform="translate3d(0,"+t+"px,0)",this.$pullContentEl.style["transition-duration"]="0.3s",this.$pullContentEl.style["transition-property"]="all",this.$pullContentEl.style.transform="translate3d(0,"+t+"px,0)"}.call(n),n.$emit("pullingDown")}else n.recall()})},forceUpdate:function(){var t=this;this.$nextTick(function(){3===t.pullStatus&&setTimeout(function(){t.pullStatus=4,t.recall()},300)})},recall:function(){this.startFlag=!1,this.touch={};var t=this;function n(){this.$pullRefreshContentEl.style["transition-duration"]="0.3s",this.$pullRefreshContentEl.style["transition-property"]="all",this.$pullRefreshContentEl.style.transform="translate3d(0,0,0)",this.$pullContentEl.style["transition-duration"]="0.3s",this.$pullContentEl.style["transition-property"]="all",this.$pullContentEl.style.transform="translate3d(0,0,0)"}4===this.pullStatus?setTimeout(function(){n.call(t)},500):n.call(t)}}},u={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pull-refresh-container"},[t._t("pull",[e("div",{ref:"pullRefreshContent",staticClass:"pull-refresh-wrap"},[e("div",{staticClass:"pull-icon-box"},[e("IconFont",{directives:[{name:"show",rawName:"v-show",value:3!==t.pullStatus&&4!==t.pullStatus,expression:"pullStatus!==3 && pullStatus!==4"}],staticClass:"rotate0",class:{rotate90:1===t.pullStatus},attrs:{name:t.PullIcon}}),t._v(" "),e("Loading",{directives:[{name:"show",rawName:"v-show",value:3===t.pullStatus,expression:"pullStatus===3"}],attrs:{title:""}}),t._v(" "),e("IconFont",{directives:[{name:"show",rawName:"v-show",value:4===t.pullStatus,expression:"pullStatus===4"}],attrs:{name:"iconwancheng"}})],1),t._v(" "),e("span",{staticClass:"pull-status-text"},[t._v(t._s(t.pullText))])])]),t._v(" "),e("div",{ref:"pullContent",staticClass:"pull-content",on:{touchstart:function(n){return n.stopPropagation(),t.touchStart(n)},touchmove:function(n){return n.stopPropagation(),t.touchMove(n)},touchend:function(n){return n.stopPropagation(),t.touchEnd(n)}}},[t._t("default")],2)],2)},staticRenderFns:[]};var c=e("VU/8")(o,u,!1,function(t){e("NzXW")},"data-v-2a06f2f0",null).exports,h={props:{width:{type:[String,Number],default:"100px"},percent:{type:[String,Number],default:20},bgColor:{type:[String],default:"#458fd2"}},computed:{svgStyle:function(){return{width:this.width,height:this.width,opacity:this.percent/100,transform:"rotaote(-90deg)"}}},mounted:function(){var t=this;this.$nextTick(function(){t.path=t.$refs.path,t.init(t.percent)})},watch:{percent:function(t){this.init(t)},width:function(t){this.init(this.percent)}},methods:{init:function(t){var n=this;this.$nextTick(function(){n.run(n.percent)})},drawArcByRadiusDeg:function(t,n,e,s,i){var l=void 0!==i?i:1,a=t-e+e*Math.cos(s*Math.PI/180),r=n+(1===l?1:-1)*e*Math.sin(s*Math.PI/180);return"M "+t+" "+n+" A "+e+" "+e+" 0 "+(s>180?1:0)+" "+l+" "+a+" "+r+(" L"+(t-e)+" "+n+" L"+t+" "+n+"Z")},run:function(t){if(t=this.percent/100*360,this.path){var n=0===t;this.path.setAttribute("d",this.drawArcByRadiusDeg(40,25,15,n?t++:t--,1))}}}},p={render:function(){var t=this.$createElement,n=this._self._c||t;return n("svg",{style:this.svgStyle,attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{ref:"path",attrs:{id:"path1",d:"",fill:this.bgColor,"fill-opacity":"1"}})])},staticRenderFns:[]};var f={components:{PullRefresh:c,Circular:e("VU/8")(h,p,!1,function(t){e("llh1")},"data-v-b86370f2",null).exports},data:function(){return{flag:!1,list:[1,2,23,1,2,23]}},created:function(){this.isPhone()},methods:{isPhone:function(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?console.log("iPhone"):console.log("pc")},pullingDown:function(t){var n=this,e=[13,13];setTimeout(function(){n.list=n.list.concat(e)},1e3)}}},d={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("PullRefresh",{attrs:{list:t.list},on:{pullingDown:t.pullingDown}},[e("ul",{staticClass:"list"},t._l(t.list,function(n,s){return e("li",{key:s},[t._v(t._s(s))])}))])],1)},staticRenderFns:[]};var v=e("VU/8")(f,d,!1,function(t){e("sgVs")},"data-v-ebe21620",null);n.default=v.exports},NzXW:function(t,n){},OT2n:function(t,n){},llh1:function(t,n){},sgVs:function(t,n){}});
//# sourceMappingURL=7.936e6a5cd888abab5870.js.map